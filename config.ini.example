# Boxes-Live Configuration File
# Copy this to ~/.config/boxes-live/config.ini and customize
#
# This file makes joystick buttons and application behavior configurable.
# Edit any setting and restart boxes-live to apply changes.
#
# 3-MODE SYSTEM (Issue #16):
#   NAV       - Navigate and observe (pan/zoom)
#   SELECTION - Choose boxes (viewport locked, no panning)
#   EDIT      - Modify selected box properties
#
# LB BUTTON cycles modes globally: NAV -> SELECTION -> EDIT -> NAV (Issue #15)

[general]
# Show joystick visualizer panel on startup
show_visualizer = true

# Auto-save canvas periodically (not yet implemented)
auto_save = false

[grid]
# Show grid on startup
visible = false

# Enable snap-to-grid on startup
snap_enabled = false

# Grid spacing in world units (5, 10, or 20 recommended)
spacing = 10

# ============================================================================
# Box Templates (Issue #17)
# ============================================================================
#
# Three pre-configured templates for quick box creation:
#
# Keyboard shortcuts:
#   n      = Square template (notes, labels, general content)
#   N      = Horizontal rectangle (headers, titles, status bars)
#   Ctrl+N = Vertical rectangle (lists, menus, file trees)
#
# Joystick (NAV mode):
#   X      = Square template
#   LB+X   = Horizontal rectangle
#   RB+X   = Vertical rectangle
#
# Custom sizing via parameter editor remains available (Y button in EDIT mode)

[templates]
# Square template: Good for notes, labels, general content
square_width = 20
square_height = 10

# Horizontal rectangle: Good for headers, titles, status bars
horizontal_width = 40
horizontal_height = 10

# Vertical rectangle: Good for lists, menus, file trees
vertical_width = 20
vertical_height = 20

# ============================================================================
# Proportional Box Sizing (Issue #18)
# ============================================================================
#
# When enabled, newly created boxes automatically inherit dimensions from
# nearby existing boxes, eliminating the need for manual resizing to
# maintain visual consistency in your canvas layout.
#
# How it works:
#   1. When you create a box, the system searches for boxes within the
#      proximity radius
#   2. If enough neighbors are found, dimensions are calculated from them
#   3. If no neighbors are found, the template default is used instead
#
# This is especially useful for:
#   - Creating grids of similarly-sized boxes
#   - Maintaining consistent sizing in a region of the canvas
#   - Quick prototyping where boxes should match existing content

[proportional]
# Enable/disable proportional sizing (true/false)
enabled = true

# Search radius in world units to find neighbor boxes (5-200)
# Larger values = more boxes considered as neighbors
proximity_radius = 30

# Sizing method:
#   false = Average dimensions of all neighbors (smoother, more consistent)
#   true  = Use dimensions of the nearest neighbor (more local matching)
use_nearest_neighbor = false

# Minimum neighbors required to trigger proportional sizing (1-10)
# If fewer neighbors are found, template defaults are used instead
min_neighbors_required = 1

[joystick]
# Analog stick deadzone (0.0 to 1.0)
# Lower = more sensitive, Higher = less sensitive
deadzone = 0.15

# Frames to ignore axis input on startup (prevents "racing canvas")
# 30 frames = ~0.5 seconds at 60 FPS
settling_frames = 30

# ============================================================================
# Joystick Button Mappings
# ============================================================================
#
# Available action names:
#   Navigation: zoom_in, zoom_out, reset_view
#   Boxes: create_box, delete_box, cycle_box
#   Modes: enter_selection, enter_edit, back_to_nav, back_to_selection
#   Editing: edit_text, cycle_color, parameters, increase
#   Grid: toggle_grid, toggle_snap
#   Files: save_canvas, load_canvas
#   App: quit, cycle_mode, toggle_visualizer
#
# NOTE: LB button is reserved as global mode toggle and cannot be remapped.
# Customize any other button mapping below!

# ----------------------------------------------------------------------------
# NAV Mode - Navigate and observe (pan/zoom only)
# ----------------------------------------------------------------------------
[joystick.nav]
button_a = zoom_in
button_b = zoom_out
button_x = create_box
button_y = toggle_grid
button_rb = toggle_snap

# ----------------------------------------------------------------------------
# SELECTION Mode - Choose boxes (viewport locked)
# ----------------------------------------------------------------------------
[joystick.selection]
button_a = cycle_box
button_b = back_to_nav
button_x = enter_edit
button_y = delete_box
# button_rb = duplicate  # (Not yet implemented)

# ----------------------------------------------------------------------------
# EDIT Mode - Modify selected box
# ----------------------------------------------------------------------------
[joystick.edit]
button_a = edit_text
button_b = back_to_selection
button_x = cycle_color
button_y = parameters
button_rb = increase

# ----------------------------------------------------------------------------
# Global Buttons (work in all modes)
# Note: LB (cycle_mode) is hardcoded and cannot be changed
# ----------------------------------------------------------------------------
[global]
# button_lb = cycle_mode  # Reserved - cannot be changed (Issue #15)
button_start = save_canvas
button_select = quit
button_back = toggle_visualizer

# ============================================================================
# Example Custom Configurations
# ============================================================================

# Example 1: Swap zoom buttons
# [joystick.nav]
# button_a = zoom_out
# button_b = zoom_in

# Example 2: Increase grid spacing
# [grid]
# spacing = 20

# Example 3: More sensitive joystick
# [joystick]
# deadzone = 0.10
